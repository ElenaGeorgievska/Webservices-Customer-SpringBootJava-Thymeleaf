<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
<meta charset="ISO-8859-1">
<title>E-commerce system</title>

<link rel="stylesheet" th:src="@{js/script.js}"
	href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css"
	integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO"
	crossorigin="anonymous">

<!-- th:src - link file from static folder with html -->
</head>
<body>

	<div class="container">

		<nav class="navbar navbar-expand-lg navbar-light bg-light">
			<button class="navbar-toggler" type="button" data-toggle="collapse"
				data-target="#navbarText" aria-controls="navbarText"
				aria-expanded="false" aria-label="Toggle navigation">
				<span class="navbar-toggler-icon"></span>
			</button>
			<div class="collapse navbar-collapse" id="navbarText">
				<ul class="navbar-nav mr-auto">
					<li class="nav-item active"><a class="nav-link" th:href="@{/}">Home
							<span class="sr-only">(current)</span>
					</a></li>
					<li class="nav-item"><a class="nav-link" th:href="@{/product}">Products</a>
					</li>
					<li class="nav-item"><a class="nav-link"
						th:href="@{/shoppingCart}">Shopping Cart</a></li>
					<li class="nav-item"><a class="nav-link"
						th:href="@{/customer}">Customer</a></li>
				</ul>
				<span class="navbar-text"> <b>Welcome to our store...</b></span>
			</div>
		</nav>

	</div>


	<div class="container my-2">
		<br> <br>
		<h6>Shopping Carts List</h6>
		<br> <a th:href="@{/showNewShopingCartForm}"
			class="btn btn-primary">Add new shopping cart</a>
		<!-- Button for new Shopping Cart -->


		<table border="1" class="table table-striped table-responsive-md">
			<thead>
				<tr>
					<th><a>Id</a></th>
					<th><a>Customer Id</a></th>
					<th><a>Products</a></th>
				<!-- 	<th><a>Created on</a></th> -->
					<th><a>Action</a></th>
				</tr>


			</thead>
			<tbody>
				<tr th:each="cart : ${listShoppingCarts}">
					<td th:text="${cart.id} "></td>
					<td
						th:text="${cart.customer.id}"></td>


                   <!-- {cart.customer.id + ' ' cart.customer.firstName + ' ' + cart.customer.lastName} -->
                   
				   <!--  <td>
				        <tr th:each="product :${cart.products}">
				           	<td th:text="${product.name}"></td></tr>
				    </td> -->

				    
				    <td>
				         <span th:each="product,iterStat : ${cart.products}">
				         <span th:value="${product.id}" />
						 <span th:text="${product.name}" />
					     <th:block th:if="${!iterStat.last}">,</th:block>
				         </span>
				     
				     </td>

				<!-- <td th:text="${cart.createdOn}"></td> -->

                
                <td>
                       
				<a th:href="@{/deleteCustomer/{id}(id=${customer.id})}"
					class="btn btn-danger">Delete</a>
				</td>

				</tr>




			</tbody>

		</table>
	</div>

</body>
</html>